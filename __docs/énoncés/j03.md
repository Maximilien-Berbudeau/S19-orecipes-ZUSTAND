# CI/CD

Afin de pouvoir tester la fonctionnalité, nous allons déployer
l'application sur notre serveur de tests.

## Consigne

Déployer l'application de façon automatisée, **déploiement continu**,
sur Surge.

> **NOTE** anticiper les futurs tests de l'application :  
> une étape du déploiement **doit lancer les tests**.  
>
> Si aucun test trouvé, afficher dans la console de déploiement :
> « Aucun test trouvé… »

## Étapes

1. Mettre en place un **workflow GitHub Actions** qui réagira
   au `push` sur une branche.

2. Créer les composants nécessaires à l'ajout des ingrédients
   à la liste :

   - un bouton/une icône sur chaque recette
   - la liste dans une barre latérale (ou une modale) avec
      pour chaque ingrédient :
      - son nom
      - un champ modifiable pour sa quantité
      - son unité
      - un bouton pour supprimer l'ingrédient de la liste
   - un bouton pour vider la liste

3. Publie (_push_) les modifications sur la bonne branche pour
   vérifier que le déploiement fonctionne

4. (Bonus) Documente le déploiement de l'application en créant un
   **diagramme de déploiement UML** :

   - <https://fr.wikipedia.org/wiki/Diagramme_de_d%C3%A9ploiement>
   - <https://creately.com/blog/fr/uncategorized-fr/tutoriel-sur-le-diagramme-de-deploiement/>
   - <https://www.lucidchart.com/pages/fr/diagramme-de-deploiement-uml>

    <details>
      <summary>Guide</summary>

      - **Nœuds :**
        - Client → **composant :** navigateur web
        - Surge (hébergement statique) → **composant :** React
        - API recettes (externe/REST) → **composants :** routes
        - Stockage local (navigateur) → **composant :** localStorage

      - **Associations :**
        - le **navigateur** télécharge l’application **React** depuis Netlify
        - l’application **React** effectue des appels HTTP vers l’**API** de recettes
           (recettes, favoris…)
        - lors de l’authentification (login), l’utilisateur envoie ses identifiants et
          reçoit un **JWT**
        - Le **JWT** est stocké dans le **localStorage** et envoyé dans les appels API sécurisés

    </details>
